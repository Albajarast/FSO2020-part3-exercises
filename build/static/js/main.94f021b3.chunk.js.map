{"version":3,"sources":["components/FilterName.js","services/persons.js","components/PersonForm.js","components/Contact.js","components/ContactsList.js","components/Notification.js","App.js","index.js"],"names":["FilterName","newSearch","setNewSearch","htmlFor","id","value","onChange","event","target","baseUrl","methods","getAll","axios","get","then","response","data","create","newPerson","post","deleteById","delete","updateById","updatedPerson","put","PersonForm","persons","setPersons","setSuccessMessage","setErrorMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","name","number","filter","person","foundPerson","window","confirm","personService","returnedPerson","map","setTimeout","catch","err","error","console","log","concat","type","Contact","onClick","e","ContactsList","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","successMessage","errorMessage","useEffect","filteredPersons","toLowerCase","includes","personsToShow","undefined","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.94f021b3.chunk.js","sourcesContent":["import React from 'react'\n\nconst FilterName = ({ newSearch, setNewSearch }) => {\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <label htmlFor=\"search\">Filter shown with:</label>\n      <input id=\"search\" value={newSearch} onChange={handleSearchChange} />\n    </div>\n  )\n}\n\nexport default FilterName\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then((response) => response.data)\n}\n\nconst deleteById = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst updateById = (id, updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson)\n  return request.then((response) => response.data)\n}\n\nconst methods = {\n  getAll,\n  create,\n  deleteById,\n  updateById\n}\n\nexport default methods\n","import axios from 'axios'\nimport React, { useState } from 'react'\nimport personService from '../services/persons'\n\nfunction PersonForm({\n  persons,\n  setPersons,\n  setSuccessMessage,\n  setErrorMessage\n}) {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const addNewName = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const [foundPerson] = persons.filter((person) => person.name === newName)\n\n    if (!foundPerson) {\n      console.log('Not person found')\n      personService\n        .create(newPerson)\n        .then((response) => {\n          setPersons(persons.concat(response))\n          setSuccessMessage(`${response.name} successfully added to the list`)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch((err) => {\n          setErrorMessage(err.response.data.error)\n        })\n    } else {\n      setNewName('')\n      setNewNumber('')\n      const update = window.confirm(\n        `${foundPerson.name} already exists! Do you want to replace the old number with a new one?`\n      )\n\n      if (update) {\n        personService\n          .updateById(foundPerson.id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== foundPerson.id ? person : returnedPerson\n              )\n            )\n            setSuccessMessage(`${returnedPerson.name} updated`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 3000)\n          })\n          .catch((err) => {\n            setErrorMessage(err.response.data.error)\n          })\n      } else {\n        console.log('Cancelled!')\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <form onSubmit={addNewName}>\n        <div>\n          <label htmlFor=\"name\">Name:</label>\n          <input id=\"name\" value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          <label htmlFor=\"number\">Number:</label>\n          <input id=\"number\" value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\nimport personService from '../services/persons'\n\nconst Contact = ({\n  person,\n  setPersons,\n  setSuccessMessage,\n  setErrorMessage\n}) => {\n  const deletePerson = (e) => {\n    const remove = window.confirm(\n      `Do you want to remove ${person.name} from your phonebook?`\n    )\n\n    if (remove) {\n      personService\n        .deleteById(person.id)\n        .then((response) => {\n          personService.getAll().then((response) => {\n            setPersons(response)\n            setSuccessMessage(\n              `${person.name} successfully removed from the list`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 3000)\n          })\n        })\n        .catch((err) => {\n          console.log(err)\n          setErrorMessage(\n            `The information of ${person.name} has already been removed from the server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <span>\n        {person.name} - {person.number}\n      </span>\n      <button onClick={deletePerson}>Delete</button>\n    </div>\n  )\n}\n\nexport default Contact\n","import React from 'react'\nimport Contact from './Contact'\n\nfunction ContactsList({\n  persons,\n  setPersons,\n  setSuccessMessage,\n  setErrorMessage\n}) {\n  return (\n    <div>\n      {persons.map((person) => (\n        <Contact\n          key={person.name}\n          person={person}\n          setPersons={setPersons}\n          setSuccessMessage={setSuccessMessage}\n          setErrorMessage={setErrorMessage}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default ContactsList\n","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  const successStyles = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  const errorStyles = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  if (type === 'success') {\n    return <div style={successStyles}>{message}</div>\n  } else if (type === 'error') {\n    return <div style={errorStyles}>{message}</div>\n  } else {\n    return null\n  }\n}\n\nexport default Notification\n","import React, { useEffect, useState } from 'react'\nimport FilterName from './components/FilterName'\nimport PersonForm from './components/PersonForm'\nimport ContactsList from './components/ContactsList'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newSearch, setNewSearch] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const fetchData = () => {\n    personService.getAll().then((response) => {\n      setPersons(response)\n    })\n  }\n\n  useEffect(fetchData, [])\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(newSearch.toLowerCase())\n  )\n\n  const personsToShow = newSearch === undefined ? persons : filteredPersons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} type={'success'} />\n      <Notification message={errorMessage} type={'error'} />\n      <FilterName newSearch={newSearch} setNewSearch={setNewSearch} />\n      <h3>Add a new contact</h3>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        setSuccessMessage={setSuccessMessage}\n        setErrorMessage={setErrorMessage}\n      />\n      <h2>Numbers</h2>\n      <ContactsList\n        persons={personsToShow}\n        setPersons={setPersons}\n        setSuccessMessage={setSuccessMessage}\n        setErrorMessage={setErrorMessage}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}