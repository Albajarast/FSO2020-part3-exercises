{"version":3,"sources":["components/FilterName.js","services/persons.js","components/PersonForm.js","components/Contact.js","components/ContactsList.js","components/Notification.js","App.js","index.js"],"names":["FilterName","newSearch","setNewSearch","htmlFor","id","value","onChange","event","target","baseUrl","methods","getAll","axios","get","then","response","data","create","newPerson","post","deleteById","delete","updateById","updatedPerson","put","PersonForm","persons","setPersons","setSuccessMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","name","number","filter","person","foundPerson","console","log","window","confirm","personService","returnedPerson","map","setTimeout","concat","type","Contact","setErrorMessage","onClick","e","catch","err","ContactsList","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","successMessage","errorMessage","useEffect","filteredPersons","toLowerCase","includes","personsToShow","undefined","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.90f0781d.chunk.js","sourcesContent":["import React from 'react'\n\nconst FilterName = ({ newSearch, setNewSearch }) => {\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <label htmlFor=\"search\">Filter shown with:</label>\n      <input id=\"search\" value={newSearch} onChange={handleSearchChange} />\n    </div>\n  )\n}\n\nexport default FilterName\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newPerson) => {\n  const request = axios.post(baseUrl, newPerson)\n  return request.then((response) => response.data)\n}\n\nconst deleteById = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nconst updateById = (id, updatedPerson) => {\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson)\n  return request.then((response) => response.data)\n}\n\nconst methods = {\n  getAll,\n  create,\n  deleteById,\n  updateById\n}\n\nexport default methods\n","import axios from 'axios'\nimport React, { useState } from 'react'\nimport personService from '../services/persons'\n\nfunction PersonForm({ persons, setPersons, setSuccessMessage }) {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const addNewName = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const [foundPerson] = persons.filter((person) => person.name === newName)\n\n    if (!foundPerson) {\n      console.log('Not person found')\n      personService.create(newPerson).then((response) => {\n        setPersons(persons.concat(response))\n        setSuccessMessage(`${response.name} successfully added to the list`)\n        setNewName('')\n        setNewNumber('')\n      })\n    } else {\n      console.log('Person found', foundPerson)\n      setNewName('')\n      setNewNumber('')\n      const update = window.confirm(\n        `${foundPerson.name} already exists! Do you want to replace the old number with a new one?`\n      )\n\n      if (update) {\n        console.log(\n          `Update requested for id ${foundPerson.id} and name: ${foundPerson.name}`\n        )\n        personService\n          .updateById(foundPerson.id, newPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== foundPerson.id ? person : returnedPerson\n              )\n            )\n            setSuccessMessage(`${returnedPerson.name} updated`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 3000)\n          })\n      } else {\n        console.log('Cancelled!')\n      }\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <form onSubmit={addNewName}>\n        <div>\n          <label htmlFor=\"name\">Name:</label>\n          <input id=\"name\" value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          <label htmlFor=\"number\">Number:</label>\n          <input id=\"number\" value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\nimport personService from '../services/persons'\n\nconst Contact = ({\n  person,\n  setPersons,\n  setSuccessMessage,\n  setErrorMessage\n}) => {\n  const deletePerson = (e) => {\n    const remove = window.confirm(\n      `Do you want to remove ${person.name} from your phonebook?`\n    )\n\n    if (remove) {\n      personService\n        .deleteById(person.id)\n        .then((response) => {\n          personService.getAll().then((response) => {\n            setPersons(response)\n            setSuccessMessage(\n              `${person.name} successfully removed from the list`\n            )\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 3000)\n          })\n        })\n        .catch((err) => {\n          console.log(err)\n          setErrorMessage(\n            `The information of ${person.name} has already been removed from the server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <span>\n        {person.name} - {person.number}\n      </span>\n      <button onClick={deletePerson}>Delete</button>\n    </div>\n  )\n}\n\nexport default Contact\n","import React from 'react'\nimport Contact from './Contact'\n\nfunction ContactsList({\n  persons,\n  setPersons,\n  setSuccessMessage,\n  setErrorMessage\n}) {\n  return (\n    <div>\n      {persons.map((person) => (\n        <Contact\n          key={person.name}\n          person={person}\n          setPersons={setPersons}\n          setSuccessMessage={setSuccessMessage}\n          setErrorMessage={setErrorMessage}\n        />\n      ))}\n    </div>\n  )\n}\n\nexport default ContactsList\n","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  const successStyles = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  const errorStyles = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n\n  if (message === null) {\n    return null\n  }\n\n  if (type === 'success') {\n    return <div style={successStyles}>{message}</div>\n  } else if (type === 'error') {\n    return <div style={errorStyles}>{message}</div>\n  } else {\n    return null\n  }\n}\n\nexport default Notification\n","import React, { useEffect, useState } from 'react'\nimport FilterName from './components/FilterName'\nimport PersonForm from './components/PersonForm'\nimport ContactsList from './components/ContactsList'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newSearch, setNewSearch] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const fetchData = () => {\n    personService.getAll().then((response) => {\n      setPersons(response)\n    })\n  }\n\n  useEffect(fetchData, [])\n\n  const filteredPersons = persons.filter((person) =>\n    person.name.toLowerCase().includes(newSearch.toLowerCase())\n  )\n\n  const personsToShow = newSearch === undefined ? persons : filteredPersons\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} type={'success'} />\n      <Notification message={errorMessage} type={'error'} />\n      <FilterName newSearch={newSearch} setNewSearch={setNewSearch} />\n      <h3>Add a new contact</h3>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        setSuccessMessage={setSuccessMessage}\n        setErrorMessage={setErrorMessage}\n      />\n      <h2>Numbers</h2>\n      <ContactsList\n        persons={personsToShow}\n        setPersons={setPersons}\n        setSuccessMessage={setSuccessMessage}\n        setErrorMessage={setErrorMessage}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}